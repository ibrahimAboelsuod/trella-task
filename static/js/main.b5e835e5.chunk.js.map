{"version":3,"sources":["consts/filters-mocks.js","components/shipment-card/ShipmentCard.js","components/side-bar/SideBar.js","App.js","reportWebVitals.js","index.js"],"names":["FILTERS_MOCK","commodities","vehicleTypes","ShipmentCard","this","props","shipment","className","numberOfBids","vehicleType","commodity","price","addresses","map","addressItem","addressIndex","name","latitude","toLocaleString","undefined","maximumFractionDigits","longitude","key","React","Component","SideBar","filters","onSearchValueChange","onChange","e","next","htmlFor","id","defaultValue","target","value","commodityItem","vehicleTypeItem","App","state","shipments","isLoading","searchValueChange$","Subject","willUnmount$","initFetchShipmentsPipeline","complete","filter","pipe","debounceTime","takeUntil","switchMap","setState","Observable","observer","fetch","headers","Accept","then","res","json","mockFilter","catch","error","subscribe","data","shipmentItem","shipmentIndex","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b5e835e5.chunk.js","sourcesContent":["const FILTERS_MOCK = {\r\n  commodities: ['ورق', 'زجاج', 'رمل', 'سيراميك', 'المنسوجات', 'فلز'],\r\n  vehicleTypes: ['دبابة مفتوح', 'سوزوكي', 'دبابة', 'جامبو مقفول'],\r\n};\r\nexport default FILTERS_MOCK;\r\n","import React from 'react';\r\nimport './ShipmentCard.css';\r\n\r\nexport default class ShipmentCard extends React.Component {\r\n  render() {\r\n    const { shipment, className } = this.props;\r\n\r\n    return (\r\n      <li className={'card ' + className}>\r\n        <div className='card-body row w-100 py-0'>\r\n          <div className='col-md-4 py-3'>\r\n            <div className='row'>\r\n              <div className='col-6'>\r\n                Number Of Bids\r\n                <p className='fw-bold'>{shipment.numberOfBids}</p>\r\n              </div>\r\n\r\n              <div className='col-6'>\r\n                Vehicle Type\r\n                <p className='fw-bold'>{shipment.vehicleType}</p>\r\n              </div>\r\n            </div>\r\n            <div className='row mt-3'>\r\n              <div className='col-6'>\r\n                Commodity\r\n                <p className='fw-bold'>{shipment.commodity}</p>\r\n              </div>\r\n              <div className='col-6'>\r\n                Price\r\n                <p className='fw-bold'>{shipment.price}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className='border-start col-md-8 ps-5 py-3'>\r\n            <ol className='list-unstyled'>\r\n              {shipment.addresses.map((addressItem, addressIndex) => (\r\n                <li\r\n                  key={addressItem.key}\r\n                  className={'flex-column address-item' + (addressIndex > 0 ? ' mt-3' : '')}\r\n                >\r\n                  <h1 className='h6'>{addressItem.name}</h1>\r\n                  {addressItem.latitude.toLocaleString(undefined, {\r\n                    maximumFractionDigits: 4,\r\n                  })}\r\n                  ,{' '}\r\n                  {addressItem.longitude.toLocaleString(undefined, {\r\n                    maximumFractionDigits: 4,\r\n                  })}\r\n                </li>\r\n              ))}\r\n            </ol>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\r\nimport './SideBar.css';\r\n\r\nexport default class SideBar extends React.Component {\r\n  render() {\r\n    const { commodities, vehicleTypes, filters, onSearchValueChange } =\r\n      this.props;\r\n\r\n    return (\r\n      <div className='card h-100'>\r\n        <form\r\n          className='card-body d-flex flex-column'\r\n          onChange={(e) => onSearchValueChange.next(filters)}\r\n        >\r\n          <label htmlFor='commodity' className='text-start'>\r\n            Commodity\r\n          </label>\r\n          <select\r\n            name='commodity'\r\n            id='commodity'\r\n            defaultValue=''\r\n            onChange={(e) => (filters.commodity = e.target.value)}\r\n          >\r\n            <option value=''>All</option>\r\n            {commodities.map((commodityItem) => (\r\n              <option key={commodityItem} value={commodityItem}>\r\n                {commodityItem}\r\n              </option>\r\n            ))}\r\n          </select>\r\n\r\n          <label htmlFor='vehicleType' className='text-start mt-4'>\r\n            Vehicle Type\r\n          </label>\r\n          <select\r\n            name='vehicleType'\r\n            id='vehicleType'\r\n            defaultValue=''\r\n            onChange={(e) => (filters.vehicleType = e.target.value)}\r\n          >\r\n            <option value=''>All</option>\r\n            {vehicleTypes.map((vehicleTypeItem) => (\r\n              <option key={vehicleTypeItem} value={vehicleTypeItem}>\r\n                {vehicleTypeItem}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\n\nimport { debounceTime, Observable, Subject, switchMap, takeUntil } from 'rxjs';\n\nimport './App.css';\nimport FILTERS_MOCK from './consts/filters-mocks';\nimport ShipmentCard from './components/shipment-card/ShipmentCard';\nimport SideBar from './components/side-bar/SideBar';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      shipments: [],\n      isLoading: false,\n      commodities: FILTERS_MOCK.commodities,\n      vehicleTypes: FILTERS_MOCK.vehicleTypes,\n      filters: {},\n      searchValueChange$: new Subject(),\n    };\n\n    this.willUnmount$ = new Subject();\n  }\n\n  componentDidMount() {\n    this.initFetchShipmentsPipeline();\n  }\n\n  componentWillUnmount() {\n    this.willUnmount$.next();\n    this.willUnmount$.complete();\n  }\n\n  mockFilter(shipments, filters) {\n    return shipments.filter(\n      (shipment) =>\n        (!filters.commodity || filters.commodity === shipment.commodity) &&\n        (!filters.vehicleType || filters.vehicleType === shipment.vehicleType)\n    );\n  }\n\n  initFetchShipmentsPipeline() {\n    this.state.searchValueChange$\n      .pipe(\n        debounceTime(1000),\n        takeUntil(this.willUnmount$),\n        switchMap(() => {\n          this.setState({\n            shipments: [],\n            isLoading: true,\n          });\n\n          return new Observable((observer) => {\n            fetch('./data/shipment-mock.json', {\n              headers: {\n                'Content-Type': 'application/json',\n                Accept: 'application/json',\n              },\n            })\n              .then((res) => res.json())\n              .then((res) => {\n                observer.next(this.mockFilter(res, this.state.filters));\n                observer.complete();\n              })\n              .catch((error) => {\n                observer.error(error);\n              });\n          });\n        })\n      )\n      .subscribe((data) => {\n        this.setState({\n          shipments: data,\n          isLoading: false,\n        });\n      });\n    this.state.searchValueChange$.next();\n  }\n\n  render() {\n    const {\n      shipments,\n      isLoading,\n      commodities,\n      vehicleTypes,\n      filters,\n      searchValueChange$,\n    } = this.state;\n\n    return (\n      <main>\n        <section className='side-bar'>\n          <SideBar\n            commodities={commodities}\n            vehicleTypes={vehicleTypes}\n            filters={filters}\n            onSearchValueChange={searchValueChange$}\n          />\n        </section>\n        <section className='content'>\n          {isLoading ? (\n            <h1 className='h3'> Loading shipments... </h1>\n          ) : (\n            <ul className='p-0'>\n              {shipments.map((shipmentItem, shipmentIndex) => (\n                <ShipmentCard\n                  key={shipmentItem.key}\n                  shipment={shipmentItem}\n                  className={shipmentIndex > 0 ? ' mt-3' : ''}\n                />\n              ))}\n            </ul>\n          )}\n        </section>\n      </main>\n    );\n  }\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bootstrap/dist/css/bootstrap.css';\nimport './index.css';\n\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}